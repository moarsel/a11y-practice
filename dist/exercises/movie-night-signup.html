<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Form Navigation Exercise</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css" />
</head>

<body>
    <div class="absolute h5 bg-light-green left-0 right-0"></div>
    <section class="pa4 black-80 mw7 avenir mr-auto ml-auto relative">
        <h1 id="heading1">Movie Night Sign Up</h1>
        <form id="mainForm">
            <fieldset id="favorite_movies" class="b--light-gray ba bw2 bg-white mb4">
                <legend class="f4 mb2 pa3 bg-black white">Favorite Movies</legend>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="spacejam" value="spacejam">
                    <label for="spacejam" class="lh-copy">Space Jam</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="airbud" value="airbud">
                    <label for="airbud" class="lh-copy">Air Bud</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="hocuspocus" value="hocuspocus">
                    <label for="hocuspocus" class="lh-copy">Hocus Pocus</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="diehard" value="diehard">
                    <label for="diehard" class="lh-copy">Die Hard</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="primer" value="primer">
                    <label for="primer" class="lh-copy">Primer</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="proxy" value="proxy">
                    <label for="proxy" class="lh-copy">Hudsucker Proxy</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="homealone" value="homealone">
                    <label for="homealone" class="lh-copy">Home Alone</label>
                </div>
            </fieldset>
            <fieldset id="favorite_snacks" class="b--light-gray ba bw2 bg-white mb4">
                <legend class="f4 mb2 pa3 bg-black white">Snack Choice</legend>
                <div class="flex items-center mb2">
                    <input class="mr2" type="radio" id="popcorn" value="popcorn" name="snack">
                    <label for="popcorn" class="lh-copy">Popcorn</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="radio" id="tea" value="tea" name="snack">
                    <label for="tea" class="lh-copy">Tea</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="radio" id="beer" value="beer" name="snack">
                    <label for="beer" class="lh-copy">Beer</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="radio" id="none" value="none" name="snack">
                    <label for="none" class="lh-copy">I'm not hungry</label>
                </div>
            </fieldset>
            <fieldset id="availability" class="b--light-gray ba bw2 bg-white mb4">
                <legend class="f4 mb2 pa3 bg-black white">Availability</legend>
                <div class="flex items-center mb2">
                    <label for="time" class="lh-copy">What's the best time for you?</label>
                    <input class="pa2 ma2 db measure hover-purple" type="time" id="time" min="9:00" max="18:00"
                        required>
                </div>
                <div class="flex items-center mb2">
                    <label for="day" class="lh-copy mr2">What day is best for you?</label>
                    <select id="day" required>
                        <option value="" disabled selected>Day</option>
                        <option value="Mon">Monday</option>
                        <option value="Wed">Wednesday</option>
                        <option value="Thur">Thursday</option>
                        <option value="Fri">Friday</option>
                    </select>
                </div>
                <div class="flex items-center mb2">
                    <label for="enthusiasm" class="lh-copy mr2">How interested are you in joining every week? (1-10)</label>
                    <input class="pa2 ma2 db measure" type="range" id="enthusiasm" min="1" max="11" step="1" required>
                </div>
            </fieldset>
            <fieldset id="sign_up" class="b--light-gray ba bw2 bg-white mb4">
                <legend class="f4 mb2 pa3 bg-black white">Personal info</legend>
                <div class="mt3">
                    <label class="db fw4 lh-copy f6" for="email-address">Email address</label>
                    <input class="pa2 input-reset ba bg-transparent w-100" type="email" name="email-address" id="email-address"
                        required>
                </div>
                <div class="mt3">
                    <label class="db fw4 lh-copy f6" for="password">Password</label>
                    <input class="b pa2 input-reset ba bg-transparent" type="password" name="password" id="password"
                        aria-describedby="password-desc" required minlength="9">
                    <small id="password-desc" class="f6 lh-copy black-60 db mb2">
                        Must be 9 characters long and contain both a number and an uppercase character.
                    </small>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="newsletter" value="newsletter">
                    <label for="newsletter" class="lh-copy">I would like to get the weekly newsletter for movie
                        updates!</label>
                </div>
                <div class="flex items-center mb2">
                    <input class="mr2" type="checkbox" id="terms" value="terms" checked>
                    <label for="terms" class="lh-copy">I hereby agree to the
                        <button type="button" id="open-terms" class="input-reset bg-transparent link underline bn">terms
                            and
                            conditions</button>
                    </label>
                </div>
            </fieldset>
            <div class="mt3">
                <input class="b ph4 pv3 input-reset ba b--black bg-transparent grow pointer f6" type="submit" value="Sign Up">
            </div>
        </form>
    </section>
    <dialog id="dialog" class="mw6">
        <h1>Terms and conditions</h1>
        <p>
            I hereby agree to give all of my belongings (and my soul) to the group and waive all my rights to counsel.
        </p>
        <input type="submit" id="confirm" class="b ph4 mh3 pv3 input-reset ba b--black bg-transparent grow pointer f6"
            value="Sounds good!">
        <button type="button" id="cancel" class="b ph4 pv3 input-reset ba b--black bg-transparent grow pointer f6">
            Cancel
        </button>
    </dialog>
    <div id="click-grabber" class="top-0 bottom-0 right-0 left-0 fixed z-3"></div>

    <script>
        (function () {
            let time = 0;
            window.setInterval(() => time++, 1000)
            document.getElementById('click-grabber')
                .addEventListener('click', (ev) => {
                    ev.stopPropagation();
                    ev.preventDefault();
                    return false;
                });
            const form = document.getElementById('mainForm');
            form.addEventListener('submit', (ev) => {
                if (document.getElementById('terms').checked == true) {
                    alert('Oops! You sold your soul! Always read the terms and conditions.')
                } else {
                    alert('Great work! You signed up in ' + time + ' seconds!');
                }
                ev.preventDefault();
                ev.stopPropagation();
                return false;
            });
            const updateButton = document.getElementById('open-terms');
            const confirmButton = document.getElementById('confirm');
            const cancelButton = document.getElementById('cancel');
            const favDialog = document.getElementById('dialog');

            // Update button opens a modal dialog
            updateButton.addEventListener('click', function () {
                favDialog.showModal();
            });

            // Form cancel button closes the dialog box
            cancelButton.addEventListener('click', function () {
                favDialog.close();
                updateButton.focus();
            });
            confirmButton.addEventListener('click', function () {
                favDialog.close();
                updateButton.focus();
            });
        })();
    </script>
</body>

</html>